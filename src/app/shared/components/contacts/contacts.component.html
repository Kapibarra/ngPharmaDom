<div class="contacts">
  <!-- <h2 class="contacts__title">Контакты</h2> -->
  <!-- <button class="contacts__button">
    <img src="assets/imgs/download.png" alt="" />Cкачать буклет о компании
  </button> -->
  <div class="contacts__map"><img src="" alt="" /></div>
</div>
<div class="form__wrapper">
  <div class="form__contacts">
    <div class="form__title">
      {{ "CONTACTS.TITLE-1" | translate }}
      <span class="black">{{ "CONTACTS.TITLE-2" | translate }}</span>
    </div>
    <div class="form__adress">
      {{ "CONTACTS.ADDRESS" | translate }}
    </div>
    <div class="form__contacts-links">
      <a class="form__link" href="tel:">
        {{ "CONTACTS.PHONE" | translate }}
        <span class="highlighted"
          ><a href="tel:+74956408993">+7 495 640 89 93</a>
        </span>
      </a>
      <a class="form__link">
        Email:
        <span class="highlighted"
          ><a href="mailto:farmadom2020@mail.ru">farmadom2020@mail.ru</a></span
        >
      </a>
    </div>
  </div>
  <form [formGroup]="contactForm" (ngSubmit)="onSubmit()" class="contact-form">
    <div class="contact-form-item">
      <div class="contact-form-label__group">
        <label for="name">{{ "CONTACTS.INPUT-1" | translate }}</label>
        <input type="text" id="name" formControlName="name" required />
      </div>

      <div
        *ngIf="
          contactForm.get('name')?.invalid && contactForm.get('name')?.touched
        "
      >
        <div
          *ngIf="contactForm.get('name')?.hasError('required')"
          class="error"
        >
          Заполните имя
        </div>
      </div>
    </div>
    <div class="contact-form-item">
      <div class="contact-form-label__group">
        <label for="email">Email:</label>
        <input type="email" id="email" formControlName="email" required />
      </div>

      <div
        *ngIf="
          contactForm.get('email')?.invalid && contactForm.get('email')?.touched
        "
      >
        <div
          *ngIf="contactForm.get('email')?.hasError('required')"
          class="error"
        >
          Email обязателен.
        </div>
        <div *ngIf="contactForm.get('email')?.hasError('email')" class="error">
          Не правильный формат Email.
        </div>
        <div
          *ngIf="contactForm.get('email')?.hasError('invalidEmail')"
          class="error"
        >
          Email должен содержать '@'.
        </div>
      </div>
    </div>

    <div class="contact-form-item">
      <div class="contact-form-label__group">
        <label for="phone">{{ "CONTACTS.INPUT-3" | translate }}</label>
        <input type="tel" id="phone" formControlName="phone" appPhoneMask />
      </div>
      <div
        *ngIf="
          contactForm.get('phone')?.invalid && contactForm.get('phone')?.touched
        "
      >
        <div
          *ngIf="contactForm.get('phone')?.hasError('required')"
          class="error"
        >
          Телефон обязателен.
        </div>
      </div>
    </div>
    <div class="contact-form-item">
      <div class="contact-form-label__group">
        <label for="message">{{ "CONTACTS.INPUT-4" | translate }}</label>
        <textarea
          id="message"
          formControlName="message"
          id="message"
          type="text"
        ></textarea>
      </div>
    </div>
    <button
      type="submit"
      [disabled]="contactForm.invalid"
      class="contact-form-button"
      [ngClass]="{ 'btn-disabled': !contactForm.valid }"
    >
      Отправить
    </button>
    <div class="checkbox-wrapper">
      <label class="checkbox-label">
        <input type="checkbox" formControlName="policyAgreement" checked />
        {{ "CONTACTS.POLICY-1" | translate }}
        <a routerLink="/policy">{{ "CONTACTS.POLICY-2" | translate }}</a>
      </label>
    </div>

    <div *ngIf="successMessage" class="success">Сообщение отправлено!</div>
    <div *ngIf="errorMessage" class="error">
      Ошибка при отправке сообщения: {{ errorMessage }}
    </div>
  </form>
</div>
